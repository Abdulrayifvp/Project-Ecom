<%- include('includes/header') %> <%- include('includes/nav') %>

<main>
    <div class="container">
      <div class="page-title-container">
        <div class="row g-0">
          <div class="col-auto mb-3 mb-md-0 me-auto">
            <div class="w-auto sw-md-30">
              <a href="#" class="muted-link pb-1 d-inline-block breadcrumb-back">
                <i data-acorn-icon="chevron-left" data-acorn-size="13"></i>
                <span class="text-small align-middle">Category</span>
              </a>
              <h1 class="mb-0 pb-0 display-4" id="title">Add Category </h1>
            </div>
          </div>
          
        </div>
      </div>
  
      <div class="container">
        <form action="/admin/addCategory" method="post" onsubmit="return validate()" enctype="multipart/form-data">
          <!-- <div class="col me-4 col-md-auto d-flex align-items-end justify-content-end">
            <div class="btn-group ms-1 w-100 w-md-auto">
              <button
                type="submit"
                class="btn btn-outline-primary btn-icon btn-icon-start w-100"
              >
                <i data-acorn-icon="save"></i>
                <span>Save</span>
              </button>
            </div>
          </div> -->
          <div class="row">
            <div class="col-6">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Category Name</label
                >
                <input
                  name="Name"
                  type="text"
                  class="form-control"
                  id="CategoryInput"
                  placeholder=""
                />
                  <p id="categoryInputError" class="text-danger"></p>
                <span class="text-primary"><%= errMsg %></span>
              </div>
              <div class="row">
                <div class="col-6 mb-3">
                  <label for="formFile" class="form-label">Select Image</label>
                  <input name="img" class="form-control" type="file" id="formFile">
                  <p id="formFileError" class="text-danger"></p>
                </div>
              </div>
              
            </div>
          </div>
          
          <div class="col me-4 col-md-auto d-flex align-items-end justify-content-end">
            <div class="btn-group ms-1 w-100 w-md-auto">
              <button
                type="submit"
                class="btn btn-outline-primary btn-icon btn-icon-start w-100"
              >
                <i data-acorn-icon="save"></i>
                <span>Save</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </main>

  <script>
    function validate(){
    let CategoryName = document.getElementById('CategoryInput').value
    let Image = document.getElementById('formFile').value
  
    if (CategoryName == "") {
      document.getElementById('categoryInputError').innerHTML='Fill This Field'
      valid1=false
    }else if(CategoryName.length<3){
      document.getElementById('categoryInputError').innerHTML='Atleast 3 characters required'
      valid1=false
    }else{
      document.getElementById('categoryInputError').innerHTML=''
      valid1=true
    }
  
    if(Image==''){
      document.getElementById('formFileError').innerHTML='Select a file'
      valid6=false
    }else{
      document.getElementById('formFileError').innerHTML=''
      valid6=true
    }
  
    
  
    if(valid1&&valid6){
      return true
    }else{
      return false
    }
    }
  </script>

<%- include('includes/footer') %>
