<%- include('includes/header') %>

<div class="container w-70 " style="padding: 150px;">
    <div class="align-middle">
        <form action="/admin/login" method="post" onsubmit="return validate()">
            <h1 class="mb-5">Admin Login</h1>
            <p class="text-danger"><%=errMsg%></p>
            <div class="form-group">
              <label for="exampleInputEmail1">Email address</label>
              <input type="email" name="Email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
              <p class="text-danger" id="emailError"></p>
            </div>
            <div class="form-group mb-5">
              <label for="exampleInputPassword1">Password</label>
              <input type="password" name="Password" class="form-control" id="password" placeholder="Password">
              <p class="text-danger" id="passwordError"></p>
            </div>
            
            <button type="submit" class="btn btn-primary">Login</button>
          </form>
    </div>
    
</div>

<script>
  function validate(){
    let email = document.getElementById('email').value
    let password = document.getElementById('password').value

    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

    if(email == ""){
      document.getElementById('emailError').innerHTML='Fill this field.'
      valid1=false
    }else if(email.match(mailformat)==false){
      document.getElementById('emailError').innerHTML='Enter a valid Email.'
      valid1=false
    }else{
      document.getElementById('emailError').innerHTML=''
      valid1 = true;
    }

    if(password == ""){
      document.getElementById('passwordError').innerHTML='Fill this field.'
      valid2=false
    }else if(password.length<5){
      document.getElementById('passwordError').innerHTML='Enter minimum 5 characters.'
      valid2=false
    }else{
      document.getElementById('passwordError').innerHTML=''
      valid2 = true
    }

    if(valid1&&valid2){
      return true
    }else{
      return false
    }
  }
</script>
<%- include('includes/footer') %>
