<%- include('./includes/header') %>

<%- include('./includes/navigation') %>

    <!--================Signup Box Area =================-->
<section class="login_box_area section_gap ">
    <div class="container align-middle">
        <div class="row d-flex justify-content-center">
            
            <div style="margin-top: 50px;" class="col-lg-6 justify-content-center">
                <div class="login_form_inner">
                    <h3>Sign Up to enter</h3>
                        
                        <span id="errMsg" class="text-danger"></span>
                        <h6 class="text-danger"><%= errMsg %></h6>
                    
                    <form class="row login_form" action="/signup" method="post" id="contactForm" novalidate="novalidate" onsubmit="return fieldvalidation()">
                        <div class="col-md-12 form-group">
                            <input type="text" class="form-control" id="userName" name="userName" placeholder="User Name" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Username'">
                            <span class="float-right text-danger" id="userNameErr"></span>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="email" class="form-control" id="email" name="email" placeholder="Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Username'">
                            <span class="float-right text-danger"   id="emailErr"></span>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="number" class="form-control" id="phone" name="phone" placeholder="Phone" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Username'">
                            <span class="float-right text-danger" id="phoneErr"></span>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="password" class="form-control" id="pass" name="password" placeholder="Password" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Password'">
                            <span class="float-right text-danger" id="passwordErr"></span>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="password" class="form-control" onkeyup="validate_password()" id="confirm_pass" name="confirmpassword" placeholder="Confirm Password" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Password'">
                            <span class="float-right text-danger" id="comPassErr"></span>
                        </div>
                        <span id="wrong_pass_alert"></span>
                        <div class="col-md-12 form-group">
                            <div class="creat_account">
                                <input type="checkbox" id="f-option2" name="selector">
                                <label for="f-option2">Keep me logged in</label>
                            </div>
                        </div>
                        <div class="col-md-12 form-group">
                            <button type="submit" value="submit" class="primary-btn">Sign Up</button>
                            <a class="m-4" href="/login">Already have an account ?</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    function validate_password() {

        var pass = document.getElementById('pass').value;
        var confirm_pass = document.getElementById('confirm_pass').value;
        if (pass != confirm_pass) {
            document.getElementById('wrong_pass_alert').style.color = 'red';
            document.getElementById('wrong_pass_alert').innerHTML
              = 'â˜’ Use same password';
            document.getElementById('create').disabled = true;
            document.getElementById('create').style.opacity = (0.4);
        } else {
            document.getElementById('wrong_pass_alert').style.color = 'green';
            document.getElementById('wrong_pass_alert').innerHTML =
                'ðŸ—¹ Password Matched';
            document.getElementById('create').disabled = false;
            document.getElementById('create').style.opacity = (1);
        }
    }

    function fieldvalidation() {
        if (document.getElementById('pass').value == "") {
            document.getElementById('passwordErr').innerHTML="Fill this field"
            valid1=false
        }else{
            document.getElementById('passwordErr').innerHTML=""
            valid1=true
        }

        if(document.getElementById('confirm_pass').value == ""){
            document.getElementById('comPassErr').innerHTML="Fill this field"
            valid2=false
        }else{
            document.getElementById('comPassErr').innerHTML=""
            valid2=true
        }

        if(document.getElementById('userName').value ==""){
            document.getElementById('userNameErr').innerHTML="Fill this field"
            valid3=false
        }else if(document.getElementById('userName').value.length<2){
            document.getElementById('userNameErr').innerHTML="Enter a valid username"
            valid3=false
        }else{
            document.getElementById('userNameErr').innerHTML=""
            valid3=true
        }

        if(document.getElementById('email').value ==""){
            document.getElementById('emailErr').innerHTML='Fill this field'
            valid4=false
        }else{
            document.getElementById('emailErr').innerHTML=''
            valid4=true
        }

        if(document.getElementById('phone').value ==""){
            document.getElementById('phoneErr').innerHTML='Fill this field'
            valid5=false
        }else if(document.getElementById('phone').value.length!=10){
            document.getElementById('phoneErr').innerHTML='Enter valid Phone number'
            valid5=false
        }else{
            document.getElementById('phoneErr').innerHTML=''
            valid5=true
        }
         
        if(valid1&&valid2&&valid3&&valid3&&valid4&&valid5){
            return true
        }else{
            return false
        }
    }
</script>



<%- include('./includes/footer.ejs') %>